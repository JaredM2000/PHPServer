<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>jQuery AJAX Submit Form</title>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
// https://www.geeksforgeeks.org/how-to-submit-a-form-using-ajax-in-jquery/
$(document).ready(function(){                   // website is loaded
    console.log("hi");
    $.ajax({
                method: "GET",
                url: '/authors', // buggy
                cache: false,
                success: function(data) {
                      
                    // Ajax call completed successfully

                    authors = JSON.parse(data); 

                    console.log("tableStart");
                    $.each(authors, function(key, value){
                        console.log("intable");
                                $('#authorTable').append(
                                        '<tr>' 
                                            + '<td>' + value.au_id + '</td>'
                                            + '<td>' + value.au_fname + '</td>'
                                            + '<td>' + value.au_lname + '</td>'
                                            + '<td>' +'<button> </button>'> + '</td>'
                                            + '</tr>');
                                            });
                                            console.log("bye");


                    //$('#result').html(data);
                   // alert(data);
                },
                error: function(data) {
                      
                    // Some error in ajax call
                    alert(data);
                }
    });
    
});
</script>

</head>

<body>
    <div>
        <table>
            <thead>
                <tr>
                    <th>id</th>
                    <th>fname</th>
                    <th>lname</th>
            </thead>
            <tbody id="authorTable">
                <!-- stuff goes here-->
            </tbody>
        </table>
    </div>
    <div id="result">
    </div>
</body>
</html>